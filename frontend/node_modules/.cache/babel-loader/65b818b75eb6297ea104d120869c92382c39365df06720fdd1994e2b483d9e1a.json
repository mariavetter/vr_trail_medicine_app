{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/Users/mariavetter/Documents/Dokumente - Marias MacBook Pro/HochschulederMedien/7. Semester/HOLA Serious Games/Medizinapp/vr_trail_medicine_app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/Users/mariavetter/Documents/Dokumente - Marias MacBook Pro/HochschulederMedien/7. Semester/HOLA Serious Games/Medizinapp/vr_trail_medicine_app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nimport User from './userModel';\nimport Run from './runModel';\nimport Task2 from './task2rModel';\nvar _api = /*#__PURE__*/_classPrivateFieldLooseKey(\"api\");\nvar _vrTrailApiBaseURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"vrTrailApiBaseURL\");\nvar _fetchAdvanced = /*#__PURE__*/_classPrivateFieldLooseKey(\"fetchAdvanced\");\nvar _getUserURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUserURL\");\nvar _getUserByNameURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUserByNameURL\");\nvar _postUserURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"postUserURL\");\nvar _getRunURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"getRunURL\");\nvar _getRunByUserIdURL = /*#__PURE__*/_classPrivateFieldLooseKey(\"getRunByUserIdURL\");\nexport default class VrTrailApi {\n  constructor() {\n    Object.defineProperty(this, _vrTrailApiBaseURL, {\n      writable: true,\n      value: 'http://127.0.0.1:5000/backend'\n    });\n    Object.defineProperty(this, _fetchAdvanced, {\n      writable: true,\n      value: (url, init) => fetch(url, init, {\n        credential: 'include'\n      }).then(res => {\n        // Das von fetch() zurückgegebene Promise wird bei einem HTTP-Fehlerstatus nicht zurückgewiesen, auch wenn die Antwort ein HTTP 404 oder 500 ist.\n        if (!res.ok) {\n          throw Error(`${res.status} ${res.statusText}`);\n        }\n        return res.json();\n      })\n    });\n    Object.defineProperty(this, _getUserURL, {\n      writable: true,\n      value: () => `${_classPrivateFieldLooseBase(this, _vrTrailApiBaseURL)[_vrTrailApiBaseURL]}/user`\n    });\n    Object.defineProperty(this, _getUserByNameURL, {\n      writable: true,\n      value: name => `${_classPrivateFieldLooseBase(this, _vrTrailApiBaseURL)[_vrTrailApiBaseURL]}/user-by-name/${name}`\n    });\n    Object.defineProperty(this, _postUserURL, {\n      writable: true,\n      value: () => `${_classPrivateFieldLooseBase(this, _vrTrailApiBaseURL)[_vrTrailApiBaseURL]}/user`\n    });\n    Object.defineProperty(this, _getRunURL, {\n      writable: true,\n      value: () => `${_classPrivateFieldLooseBase(this, _vrTrailApiBaseURL)[_vrTrailApiBaseURL]}/runs`\n    });\n    Object.defineProperty(this, _getRunByUserIdURL, {\n      writable: true,\n      value: userid => `${_classPrivateFieldLooseBase(this, _vrTrailApiBaseURL)[_vrTrailApiBaseURL]}/run-by-iduser/${userid}`\n    });\n  }\n  /**\n   * Singleton Instanz erhalten\n   * \n   * @public\n   */\n  static getAPI() {\n    if (_classPrivateFieldLooseBase(this, _api)[_api] == null) {\n      _classPrivateFieldLooseBase(this, _api)[_api] = new VrTrailApi();\n    }\n    return _classPrivateFieldLooseBase(this, _api)[_api];\n  }\n  /**\n     * Gibt einen User mit bestimmter id zurück\n     * \n     * @public\n     */\n  getUserByName(name) {\n    return _classPrivateFieldLooseBase(this, _fetchAdvanced)[_fetchAdvanced](_classPrivateFieldLooseBase(this, _getUserByNameURL)[_getUserByNameURL](name)).then(responseJSON => {\n      let user = User.fromJSON(responseJSON);\n      console.info(\"He falsch\", user);\n      return new Promise(function (resolve) {\n        resolve(user);\n      });\n    });\n  }\n  getUser() {\n    return _classPrivateFieldLooseBase(this, _fetchAdvanced)[_fetchAdvanced](_classPrivateFieldLooseBase(this, _getUserURL)[_getUserURL]()).then(responseJSON => {\n      let userModels = User.fromJSON(responseJSON);\n      console.info(\"Wir sind in der API\", userModels);\n      return new Promise(function (resolve) {\n        resolve(userModels);\n      });\n    });\n  }\n  postUser(user) {\n    return _classPrivateFieldLooseBase(this, _fetchAdvanced)[_fetchAdvanced](_classPrivateFieldLooseBase(this, _postUserURL)[_postUserURL](), {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain',\n        'Content-type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify(user)\n    });\n  }\n}\nObject.defineProperty(VrTrailApi, _api, {\n  writable: true,\n  value: null\n});","map":{"version":3,"names":["User","Run","Task2","VrTrailApi","url","init","fetch","credential","then","res","ok","Error","status","statusText","json","name","userid","getAPI","getUserByName","responseJSON","user","fromJSON","console","info","Promise","resolve","getUser","userModels","postUser","method","headers","body","JSON","stringify"],"sources":["/Users/mariavetter/Documents/Dokumente - Marias MacBook Pro/HochschulederMedien/7. Semester/HOLA Serious Games/Medizinapp/vr_trail_medicine_app/frontend/src/api/VrTrailApi.js"],"sourcesContent":["import User from './userModel';\nimport Run from './runModel';\nimport Task2 from './task2rModel';\n\n\nexport default class VrTrailApi {\n\n    // Singelton instance\n    static #api = null;\n\n    #vrTrailApiBaseURL = 'http://127.0.0.1:5000/backend'\n    /**\n     * Singleton Instanz erhalten\n     * \n     * @public\n     */\n    static getAPI() {\n      if (this.#api == null) {\n        this.#api = new VrTrailApi();\n      }\n      return this.#api;\n    }\n\n    #fetchAdvanced = (url, init) => fetch(url, init, {credential: 'include'})\n      .then(res => {\n        // Das von fetch() zurückgegebene Promise wird bei einem HTTP-Fehlerstatus nicht zurückgewiesen, auch wenn die Antwort ein HTTP 404 oder 500 ist.\n        if (!res.ok) {\n          throw Error(`${res.status} ${res.statusText}`);\n        }\n        return res.json();\n      }\n      )\n\n    #getUserURL = () => `${this.#vrTrailApiBaseURL}/user`;\n    #getUserByNameURL = (name) => `${this.#vrTrailApiBaseURL}/user-by-name/${name}`;\n    #postUserURL = () => `${this.#vrTrailApiBaseURL}/user`;\n\n    #getRunURL = () => `${this.#vrTrailApiBaseURL}/runs`;\n    #getRunByUserIdURL = (userid) => `${this.#vrTrailApiBaseURL}/run-by-iduser/${userid}`;\n\n    /**\n       * Gibt einen User mit bestimmter id zurück\n       * \n       * @public\n       */\n    getUserByName(name) {\n      return this.#fetchAdvanced(this.#getUserByNameURL(name)).then((responseJSON) => {\n        let user = User.fromJSON(responseJSON);\n        console.info(\"He falsch\", user);\n        return new Promise(function (resolve) {\n          resolve(user);\n        })\n      })\n    }\n\n    getUser() {\n        return this.#fetchAdvanced(this.#getUserURL()).then((responseJSON) => {\n          let userModels = User.fromJSON(responseJSON);\n          console.info(\"Wir sind in der API\", userModels);\n          return new Promise(function (resolve) {\n            resolve(userModels);\n          })           \n        })\n      }\n\n    postUser(user) {\n      return this.#fetchAdvanced(this.#postUserURL(), {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify(user)\n      })\n    }\n}"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,aAAa;AAC9B,OAAOC,GAAG,MAAM,YAAY;AAC5B,OAAOC,KAAK,MAAM,eAAe;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGlC,eAAe,MAAMC,UAAU,CAAC;EAAA;IAAA;MAAA;MAAA,OAKP;IAA+B;IAAA;MAAA;MAAA,OAanC,CAACC,GAAG,EAAEC,IAAI,KAAKC,KAAK,CAACF,GAAG,EAAEC,IAAI,EAAE;QAACE,UAAU,EAAE;MAAS,CAAC,CAAC,CACtEC,IAAI,CAACC,GAAG,IAAI;QACX;QACA,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;UACX,MAAMC,KAAK,CAAE,GAAEF,GAAG,CAACG,MAAO,IAAGH,GAAG,CAACI,UAAW,EAAC,CAAC;QAChD;QACA,OAAOJ,GAAG,CAACK,IAAI,EAAE;MACnB,CAAC;IACA;IAAA;MAAA;MAAA,OAEW,MAAO,+BAAE,IAAI,yCAAoB;IAAM;IAAA;MAAA;MAAA,OAChCC,IAAI,IAAM,+BAAE,IAAI,yCAAoB,iBAAgBA,IAAK;IAAC;IAAA;MAAA;MAAA,OAChE,MAAO,+BAAE,IAAI,yCAAoB;IAAM;IAAA;MAAA;MAAA,OAEzC,MAAO,+BAAE,IAAI,yCAAoB;IAAM;IAAA;MAAA;MAAA,OAC9BC,MAAM,IAAM,+BAAE,IAAI,yCAAoB,kBAAiBA,MAAO;IAAC;EAAA;EA3BrF;AACJ;AACA;AACA;AACA;EACI,OAAOC,MAAM,GAAG;IACd,IAAI,gCAAI,iBAAS,IAAI,EAAE;MACrB,gCAAI,gBAAQ,IAAId,UAAU,EAAE;IAC9B;IACA,mCAAO,IAAI;EACb;EAmBA;AACJ;AACA;AACA;AACA;EACIe,aAAa,CAACH,IAAI,EAAE;IAClB,OAAO,gCAAI,8DAAgB,IAAI,wCAAmBA,IAAI,GAAGP,IAAI,CAAEW,YAAY,IAAK;MAC9E,IAAIC,IAAI,GAAGpB,IAAI,CAACqB,QAAQ,CAACF,YAAY,CAAC;MACtCG,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEH,IAAI,CAAC;MAC/B,OAAO,IAAII,OAAO,CAAC,UAAUC,OAAO,EAAE;QACpCA,OAAO,CAACL,IAAI,CAAC;MACf,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAM,OAAO,GAAG;IACN,OAAO,gCAAI,8DAAgB,IAAI,+BAAgBlB,IAAI,CAAEW,YAAY,IAAK;MACpE,IAAIQ,UAAU,GAAG3B,IAAI,CAACqB,QAAQ,CAACF,YAAY,CAAC;MAC5CG,OAAO,CAACC,IAAI,CAAC,qBAAqB,EAAEI,UAAU,CAAC;MAC/C,OAAO,IAAIH,OAAO,CAAC,UAAUC,OAAO,EAAE;QACpCA,OAAO,CAACE,UAAU,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEFC,QAAQ,CAACR,IAAI,EAAE;IACb,mCAAO,IAAI,8DAAgB,IAAI,iCAAiB;MAC9CS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,QAAQ,EAAE,8BAA8B;QACxC,cAAc,EAAE,kBAAkB;QAClC,6BAA6B,EAAE;MACjC,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,IAAI;IAC3B,CAAC;EACH;AACJ;AAAC,sBAvEoBjB,UAAU;EAAA;EAAA,OAGb;AAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}